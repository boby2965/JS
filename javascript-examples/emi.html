<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMI Calculator</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <script>
        function AmountChange(){
            document.getElementById("txtAmount").value = document.getElementById("amountRange").value;

        }
        function YearChange(){
            document.getElementById("txtYears").value = document.getElementById("yearRange").value;
            
        }
        function RateChange(){
            document.getElementById("txtRate").value = document.getElementById("rateRange").value;
            
        }
        function CalculateClick(){
            var p= parseInt(document.getElementById("txtAmount").value);
            var n= parseInt(document.getElementById("txtYears").value * 12);
            var r= parseFloat(document.getElementById("txtRate").value /12/100);
            var emi= p * r*Math.pow(1+r,n) / Math.pow(1+r,n)-1;
            document.getElementById("result").innerHTML="Loan Amount for every month <b> &#8377;" + Math.round(emi) + "</b>" + " for " + p; 
        }
    </script>
</head>
<body class="container-fluid">
    <h3>EMI calculator</h3>
    <div class="p-4 border border-3 border-primary rounded rounded-3">
        <div class="row">
            <div class="col">
                Amount you need  <input type="text" id="txtAmount" size="10">
            </div>
            <div class="col">
                for <input type="text" id="txtYears" size="2">Years
            </div>
            <div class="col">
                Interest rate <input id="txtRate"size="4" type="text"> %
            </div>
    
            <div class="row mt-2">
                <div class="col">
                    <div class="d-flex">
                        <span>&#8377; 50,000</span>
                        <input type="range" onchange="AmountChange()" id="amountRange" min="50000" max="10000000" value="50000" style="width:150px;" class="ms-2 me-2 form-range">
                        <span>&#8377; 10,00,000</span>
                    </div>
                </div>
                <div class="col">
                    <div class="col">
                        <div class="d-flex">
                            <span>1</span>
                            <input type="range" id="yearRange" onchange="YearChange()" min="1" max="5" value="1" style="width:150px;" class="ms-2 me-2 form-range">
                            <span>5</span>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="col">
                        <div class="d-flex">
                            <span>10.32%</span>
                            <input type="range" id="rateRange" min="10.32" onchange="RateChange()" max="18.42" value="10.32" step="0.01" style="width:150px;" class="ms-2 me-2 form-range">
                            <span>18.42%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col text-end">
                    <button onclick="CalculateClick()" class="btn btn-primary">Calculate</button>
            </div>
        </div>
    </div>
    <div class="mt-4">
        <p class="text-center mt-4" id="result"> </p>
    </div>
</body>
</html>